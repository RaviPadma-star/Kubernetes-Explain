lets create a folde k8 then
lets build first the docker file and push to docker hub

cd k8-project

--> docker build -t padmaravi/web:k8 .

then-->  docker push padmaravi/web:k8

now its pushed to docker hub--> now we need to build the kubernates manifest file

 so i created a pod with ngnix manifest file andlso i have to create service beacuse its
 need to be access outside of internet.

 in manifest file what ever we give as labels the same we need to give on pod service inside of selector and targetport is ntg
 but container port

 ------------------------this is pod---------------
 apiVersion: v1
kind: Pod
metadata:
  name: web
  labels:
    name: web-service
    tier: frontend
spec:
  containers:
    - name: webcontainer
      imagePullPolicy: Always
      image: padmaravi/web:k8
      resources:
        requests:
          cpu: "100m"
          memory: "128Mi"
        limits:
          cpu: "100m"
          memory: "128Mi"
      ports:
        containerPort: 80

-------------------------this is service as loadbalance----------------

apiVersion: v1
kind: Service
metadata:
  name: web-nginx-service
spec:
  type: LoadBalancer
  selector:
    name: web-service
    tier: frontend
  ports:
    - protocol: TCP
      port: 80
      targetPort: 80
----------------------------------------------------

now git pull --->
-->  kubectl apply -f manifest.yaml

[ec2-user@ip-172-31-89-161 web]$ kubectl apply -f manifest.yaml
pod/web created
service/web-service created
[ec2-user@ip-172-31-89-161 web]$ kubectl get pods
NAME   READY   STATUS    RESTARTS   AGE
web    1/1     Running   0          17s
[ec2-user@ip-172-31-89-161 web]$ kubectl get svc
NAME          TYPE           CLUSTER-IP      EXTERNAL-IP                                                               PORT(S)        AGE
kubernetes    ClusterIP      10.100.0.1      <none>                                                                    443/TCP        170m
web-service   LoadBalancer   10.100.179.99   a9c61806cf97d486ca9c4b7750d9bab5-1605734433.us-east-1.elb.amazonaws.com   80:32173/TCP   24s
[ec2-user@ip-172-31-89-161 web]$


then copy the dns check on browser
now we need to configure the mangodb lets wait we have already pushed the docekr build mangodb so build a new
or pull it from hub

while creating a mongodb manifest file we will remove the type: loadbalancer beacuse we dont need to expose the db
and also we meantioned the port od mangodb in kind service

so first we need to connect the mangodb-service to mangodb 